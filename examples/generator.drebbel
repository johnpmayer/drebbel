SUB range (n)
BEGIN
  a := 0;
  WHILE a < n DO
    SUSPEND :gen a;
    a := a + 1
  DONE
END.

BEGIN
  gen := CONT range(5);
  RUN :gen gen;
  WHILE ! (ISDONE gen) DO
    print(LASTVALUE gen);
    RUN :gen gen
  DONE
END.