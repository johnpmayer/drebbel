SUB work (x) 
BEGIN
    IF x == 0
    THEN
        SUSPEND :err
    ELSE
        print(x * 2)
    FI
END.

SUB try (cont)
BEGIN
    cont := RUN :err cont;
    IF ! (ISDONE cont)
    THEN
        print(-1)
    ELSE
        RETURN (LASTVALUE cont)
    FI
END.

BEGIN
    workA := CONT work(5);
    try(workA);
    workB := CONT work(0);
    try(workB);
END.